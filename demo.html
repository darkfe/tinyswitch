<!doctype html>
<html lang="en">
    
    <head>
        <meta charset="UTF-8">
        <title>
            tinyswitch demo
        </title>
        <script src="http://libs.baidu.com/jquery/1.9.0/jquery.min.js">
        </script>
        <script src="http://libs.baidu.com/bootstrap/2.0.4/js/bootstrap.min.js">
        </script>
        <link href="http://libs.baidu.com/bootstrap/2.0.4/css/bootstrap.min.css"
        rel="stylesheet">
        <script src="tinyswitch.js">
        </script>
        <link rel="stylesheet" href="http://softwaremaniacs.org/media/soft/highlight/styles/monokai.css">
        <style>
            h2{
                margin-top:20px;
            }
            .demo-actions .source{
                margin-top:10px;
            }
        </style>
    </head>
    
    <body>
    	<div class="container"> 
<h2>单选框</h2>
<div class="demo"> 
<div class="form-inline">
    <label><input checked type="radio" name="R" data-tinyswitch="checked ? disabled #A;">一年</label>
    <label><input type="radio" name="R" data-tinyswitch="checked ? disabled #A">半年</label>
    <label><input type="radio" name="R" data-tinyswitch="checked ? enabled&focus #A">自定义</label>
    <label><input type="text" name="A" id="A"></label>  
</div>
</div>
<div class="demo-actions">
    <button class="btn">查看源码</button>
    <pre class="source" style="display:none"></pre>
</div>

<h2>复选框</h2>
<div class="demo">
<div>
    <label><input type="checkbox" name="R" data-tinyswitch="checked ? enabled&focusText : disabled #C">启用发送到邮箱功能</label> 
</div>
<div id="C">
    <form class="form-inline"> 
    邮箱: <input type="text"><input type="button" class="btn" value="保存">
    </form>
</div> 
<script>
    $.tinyswitch.addAction('focusText',function(ele){
        $(ele).find(':text:eq(0)').focus();
    })
</script>
</div>
<div class="demo-actions">
    <button class="btn">查看源码</button>
    <pre class="source" style="display:none"></pre>
</div>


<h2>下拉列表</h2>
<div class="demo"> 
    <select data-tinyswitch="value=='上海' ? show : hide #D">
        <option value="北京">北京</option>
        <option value="上海">上海</option>
        <option value="广州">广州</option>
    </select>

    <div id="D">
        非常抱歉由于银行系统升级,上海地区暂时无法入账.
    </div> 
</div>
<div class="demo-actions">
    <button class="btn">查看源码</button>
    <pre class="source" style="display:none"></pre>
</div>

<h2>相对控件定位目标</h2>
<div class="demo">
<div>
    <div class="form-inline">
        <label>是否有过被骗的经历?</label>
        <label><input checked type="radio" name="S" data-tinyswitch="checked ? show&focusText parent.parent.next~.detail">是的</label>
        <label><input type="radio" checked name="S" data-tinyswitch="checked ? hide parent.parent.next~.detail">没有</label>
    </div>
    <div class="detail">
        请填写受骗的详细经过: <input type="text" name="" id="">
    </div>

    <div class="form-inline">
        <label>是否有过传销的经历?</label>
        <label><input checked type="radio" name="M" data-tinyswitch="checked ? show parent.parent.next~.detail">是的</label>
        <label><input type="radio" checked name="M" data-tinyswitch="checked ? hide parent.parent.next~.detail">没有</label>
    </div>
    <div class="detail">
        你干过什么传销?
        <div class="form-inline">
            <label><input checked type="radio" name="C" data-tinyswitch="checked ? disabled #P;">安利</label>
            <label><input type="radio" name="C" data-tinyswitch="checked ? disabled #P">完美</label>
            <label><input type="radio" name="C" data-tinyswitch="checked ? disabled #P">雅芳</label>
            <label><input type="radio" name="C" data-tinyswitch="checked ? enabled&focus #P">其他</label>
            <label><input type="text" name="P" id="P"></label>
        </div>
    </div>
</div>
</div>
<div class="demo-actions">
    <button class="btn">查看源码</button>
    <pre class="source" style="display:none"></pre>
</div>

<h2>多组规则</h2>
<div class="demo"> 
<div class="form-inline">
    <label><input  type="radio" name="G" data-tinyswitch="checked ? hide h2:not(:last); checked ? hide .demo:not(:last); checked ? hide .demo-actions:not(:last)">把其他的例子都隐藏掉</label>
    <label><input checked type="radio" name="G" data-tinyswitch="checked ? show h2:not(:last); checked ? show .demo:not(:last); checked ? show .demo-actions:not(:last)">显示其他的例子</label> 
</div>
</div>
<div class="demo-actions">
    <button class="btn">查看源码</button>
    <pre class="source" style="display:none"></pre>
</div>


            <script>
                $(document).on('click', '.demo-actions .btn',function(){
                    var code = $(this).next();
                    if(code.is(':has(code)')){
                        code.toggle();
                        return;
                    }
                    var source = $(this).parent().prev().html().replace(/</g,'&lt;').replace(/^.*$/m,'');
                    $(this).next().html('<code>' + source + '</code>');
                    hljs.highlightBlock($(this).next().show()[0]);
                })
            </script>
 
            <script src="http://softwaremaniacs.org/media/soft/highlight/highlight.pack.js"></script>
            <script>
            hljs.tabReplace = '';
            hljs.initHighlightingOnLoad();
            </script>
        </div>
    </body>
</html>